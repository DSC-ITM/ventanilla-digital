(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-551bab07"],{1017:function(s,e,a){"use strict";const t={data:()=>({redirect:void 0,otherQuery:{}}),watch:{$route:{handler:function(s){const e=s.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},methods:{getOtherQuery(s){return Object.keys(s).reduce((e,a)=>("redirect"!==a&&(e[a]=s[a]),e),{})}}};e["a"]=t},3320:function(s,e,a){"use strict";a.r(e);var t=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("section",{staticClass:"hero is-fullheight",style:"background: url("+s.$store.getters.background_image+") no-repeat 50% fixed; background-size: cover;"},[a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-8 is-offset-2 register"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column left is-hidden-touch has-text-centered"},[a("h1",{staticClass:"title is-2"},[s._v("Ventanilla Digital")]),a("h2",{staticClass:"subtitle colored is-3"},[s._v(" Trámites electrónicos para el ITM. ")]),s._m(0),a("br"),a("router-link",{staticClass:"notification",attrs:{tag:"img",src:"https://www.itmerida.mx/imagenes/tec.png",width:"200px",alt:"Logo",to:"/"}})],1),a("div",{staticClass:"column right"},[s._m(1),a("ValidationObserver",{ref:"observer",scopedSlots:s._u([{key:"default",fn:function(e){var t=e.handleSubmit;return[a("form",{on:{submit:!1}},[a("b-field",[a("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"Nombre(s)"},model:{value:s.user.first_name,callback:function(e){s.$set(s.user,"first_name",e)},expression:"user.first_name"}})],1),a("b-field",[a("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"Apellido(s)"},model:{value:s.user.last_name,callback:function(e){s.$set(s.user,"last_name",e)},expression:"user.last_name"}})],1),a("b-field",[a("BInputWithValidation",{attrs:{rules:"required|email|email-edu",type:"email",placeholder:"Correo institucional"},model:{value:s.user.email,callback:function(e){s.$set(s.user,"email",e)},expression:"user.email"}})],1),a("b-field",[a("BInputWithValidation",{attrs:{rules:"required|password","data-vv-as":"field",name:"'Contraseña'",type:"password",placeholder:"Contraseña","password-reveal":"",vid:"password"},model:{value:s.user.password,callback:function(e){s.$set(s.user,"password",e)},expression:"user.password"}})],1),a("b-field",[a("BInputWithValidation",{attrs:{rules:"required|confirmed:password",name:"Password",type:"password",placeholder:"Confirmar contraseña","password-reveal":""},model:{value:s.user.password_confirm,callback:function(e){s.$set(s.user,"password_confirm",e)},expression:"user.password_confirm"}})],1),a("button",{staticClass:"button is-block is-primary is-fullwidth",class:{"is-loading":s.isLoading},on:{click:function(e){e.preventDefault(),s.signup,t(s.signup)}}},[s._v(" Registrarse ")]),a("br"),a("p",{staticClass:"has-text-black legend"},[s._v(" ¿Ya tienes una cuenta? · "),a("router-link",{attrs:{tag:"a",to:"/login"}},[s._v("Iniciar sesión")])],1)],1)]}}])})],1)])]),s._m(2)])])},i=[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("p",[s._v(" Esta es una plataforma para solicitar a distancia los trámites de control escolar y ayudar contra el "),a("b",[s._v("covid-19")]),s._v(". ")])},function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"has-text-centered"},[a("h1",{staticClass:"title is-4"},[s._v("Regístrate ahora!")]),a("p",{staticClass:"description"},[s._v(" El usuario es necesario para acceder a los trámites en línea ")])])},function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"column is-8 is-offset-2"},[a("br"),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fab fa-twitter"})]),s._v(" "),a("span",{staticClass:"icon"},[a("i",{staticClass:"fab fa-facebook"})]),s._v(" "),a("span",{staticClass:"icon"},[a("i",{staticClass:"fab fa-instagram"})]),s._v(" "),a("span",{staticClass:"icon"},[a("i",{staticClass:"fab fa-github"})]),s._v(" "),a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-envelope"})])])])])])}],r=(a("ddb0"),a("2612")),n=a("1017"),o={mixins:[n["a"]],data(){return{user:{first_name:"",last_name:"",email:"",password:"",password_confirm:""},isLoading:!1}},methods:{translate(s){"This password is too common."==s?this.$dw.messages.errorSnackbar("La contraseña ingresada es muy común."):"This password is entirely numeric."==s?this.$dw.messages.errorSnackbar("Esta contraseña es totalmente numérica."):this.$dw.messages.errorSnackbar(s)},async signup(){this.isLoading=!0;try{this.user.email=this.user.email.toLowerCase();const s=await Object(r["g"])(this.user);console.log(s),this.$buefy.dialog.alert({title:"¡Ya casi!",message:"Por favor checa tu correo para confirmar tu cuenta",type:"is-success",hasIcon:!0,icon:"check-circle",ariaRole:"alertdialog",ariaModal:!0}),await this.$router.push("/")}catch(s){if(console.log(s),s.password)for(const e of s.password)this.translate(e);else s.email?this.$dw.messages.errorSnackbar("Ya existe una cuenta activa con el correo ingresado"):this.$dw.messages.errorSnackbar(s)}finally{this.isLoading=!1}}}},l=o,c=(a("534c"),a("2877")),u=Object(c["a"])(l,t,i,!1,null,"74cf56f7",null);e["default"]=u.exports},"534c":function(s,e,a){"use strict";var t=a("5835"),i=a.n(t);i.a},5835:function(s,e,a){}}]);