(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7bb13ea"],{1017:function(e,a,s){"use strict";const t={data:()=>({redirect:void 0,otherQuery:{}}),watch:{$route:{handler:function(e){const a=e.query;a&&(this.redirect=a.redirect,this.otherQuery=this.getOtherQuery(a))},immediate:!0}},methods:{getOtherQuery(e){return Object.keys(e).reduce((a,s)=>("redirect"!==s&&(a[s]=e[s]),a),{})}}};a["a"]=t},"107f":function(e,a,s){},3320:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("section",{staticClass:"hero is-fullheight",style:"background: url("+e.$store.getters.background_image+") no-repeat 50% fixed; background-size: cover;"},[s("div",{staticClass:"hero-body",staticStyle:{"justify-content":"center"}},[s("div",{staticClass:"container is-max-desktop register"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column left has-text-centered is-hidden-mobile"},[s("h1",{staticClass:"title is-2"},[e._v("Ventanilla Digital")]),s("h2",{staticClass:"subtitle colored is-3"},[e._v(" Trámites electrónicos para el ITM. ")]),e._m(0),s("br"),s("router-link",{staticClass:"notification",attrs:{tag:"img",src:"https://www.itmerida.mx/imagenes/tec.png",width:"200px",alt:"Logo",to:"/"}})],1),s("div",{staticClass:"column right"},[e._m(1),s("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(a){var t=a.handleSubmit;return[s("form",{staticClass:"has-text-left",on:{submit:!1}},[s("BInputWithValidation",{attrs:{"label-position":"on-border",label:"Nombre(s)",rules:"required",type:"text",name:"fullname",placeholder:"Nombre(s)",margin:"mb-5"},model:{value:e.user.full_name,callback:function(a){e.$set(e.user,"full_name",a)},expression:"user.full_name"}}),s("BInputWithValidation",{attrs:{"label-position":"on-border",label:"Primer apellido",rules:"required",type:"text",name:"first_lastname",placeholder:"Primer apellido",margin:"mb-5"},model:{value:e.user.first_lastname,callback:function(a){e.$set(e.user,"first_lastname",a)},expression:"user.first_lastname"}}),s("BInputWithValidation",{attrs:{"label-position":"on-border",label:"Segundo apellido",rules:"required",type:"text",name:"second_lastname",placeholder:"Segundo apellido",margin:"mb-5"},model:{value:e.user.second_lastname,callback:function(a){e.$set(e.user,"second_lastname",a)},expression:"user.second_lastname"}}),s("BInputWithValidation",{attrs:{"label-position":"on-border",label:"Correo institucional",rules:"required|email|email-edu",type:"email",name:"email",placeholder:"Correo institucional",margin:"mb-5"},model:{value:e.user.email,callback:function(a){e.$set(e.user,"email",a)},expression:"user.email"}}),s("BInputWithValidation",{attrs:{"label-position":"on-border",label:"Contraseña",rules:"required|password","data-vv-as":"field",name:"password",type:"password",placeholder:"Contraseña","password-reveal":"",vid:"password",margin:"mb-5"},model:{value:e.user.password,callback:function(a){e.$set(e.user,"password",a)},expression:"user.password"}}),s("BInputWithValidation",{attrs:{"label-position":"on-border",label:"Confirmar contraseña",rules:"required|confirmed:password",name:"Password",type:"password",placeholder:"Confirmar contraseña","password-reveal":""},model:{value:e.user.password_confirm,callback:function(a){e.$set(e.user,"password_confirm",a)},expression:"user.password_confirm"}}),s("hr"),s("b-field",[s("button",{staticClass:"button is-block is-primary is-fullwidth",class:{"is-loading":e.isLoading},on:{click:function(a){return a.preventDefault(),t(e.signup)}}},[e._v(" Registrarse ")])]),s("p",{staticClass:"has-text-black legend"},[e._v(" ¿Ya tienes una cuenta? · "),s("router-link",{attrs:{tag:"a",to:"/login"}},[e._v("Iniciar sesión")])],1)],1)]}}])})],1)])])])])},r=[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",[e._v(" Esta es una plataforma para solicitar a distancia los trámites de control escolar y ayudar contra el "),s("b",[e._v("covid-19")]),e._v(". ")])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"has-text-centered"},[s("h1",{staticClass:"title is-4"},[e._v("Regístrate ahora!")]),s("p",{staticClass:"description"},[e._v(" El usuario es necesario para acceder a los trámites en línea ")])])}],i=(s("ddb0"),s("2612")),o=s("1017"),n={mixins:[o["a"]],data(){return{user:{first_name:"",last_name:"",email:"",password:"",password_confirm:""},isLoading:!1}},methods:{translate(e){"This password is too common."==e?this.$dw.messages.errorSnackbar("La contraseña ingresada es muy común."):"This password is entirely numeric."==e?this.$dw.messages.errorSnackbar("Esta contraseña es totalmente numérica."):this.$dw.messages.errorSnackbar(e)},async signup(){this.isLoading=!0;try{this.user.email=this.user.email.toLowerCase();const e=await Object(i["g"])(this.user);console.log(e),this.$buefy.dialog.alert({title:"¡Ya casi!",message:"Por favor checa tu correo para confirmar tu cuenta",type:"is-success",hasIcon:!0,icon:"check-circle",ariaRole:"alertdialog",ariaModal:!0}),this.$router.push("/")}catch(e){if(console.log(e),e.password)for(const a of e.password)this.translate(a);else e.email?this.$dw.messages.errorSnackbar("Ya existe una cuenta activa con el correo ingresado"):this.$dw.messages.errorSnackbar("Algo salió mal")}finally{this.isLoading=!1}}}},l=n,c=(s("eac9"),s("2877")),u=Object(c["a"])(l,t,r,!1,null,"3d4ef090",null);a["default"]=u.exports},eac9:function(e,a,s){"use strict";var t=s("107f"),r=s.n(t);r.a}}]);