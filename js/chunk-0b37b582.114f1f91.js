(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b37b582"],{1017:function(e,s,t){"use strict";const a={data:()=>({redirect:void 0,otherQuery:{}}),watch:{$route:{handler:function(e){const s=e.query;s&&(this.redirect=s.redirect,this.otherQuery=this.getOtherQuery(s))},immediate:!0}},methods:{getOtherQuery(e){return Object.keys(e).reduce((s,t)=>("redirect"!==t&&(s[t]=e[t]),s),{})}}};s["a"]=a},3320:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"hero is-fullheight",style:"background: url("+e.$store.getters.background_image+") no-repeat 50% fixed; background-size: cover;"},[t("div",{staticClass:"columns is-multiline"},[t("div",{staticClass:"column is-8 is-offset-2 register"},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column left is-hidden-touch has-text-centered"},[t("h1",{staticClass:"title is-2"},[e._v("Ventanilla Digital")]),t("h2",{staticClass:"subtitle colored is-3"},[e._v(" Trámites electrónicos para el ITM. ")]),e._m(0),t("br"),t("router-link",{staticClass:"notification",attrs:{tag:"img",src:"https://www.itmerida.mx/imagenes/tec.png",width:"200px",alt:"Logo",to:"/"}})],1),t("div",{staticClass:"column right"},[e._m(1),t("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(s){var a=s.handleSubmit;return[t("form",{on:{submit:!1}},[t("b-field",[t("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"Nombre(s)"},model:{value:e.user.first_name,callback:function(s){e.$set(e.user,"first_name",s)},expression:"user.first_name"}})],1),t("b-field",[t("BInputWithValidation",{attrs:{rules:"required",type:"text",placeholder:"Apellido(s)"},model:{value:e.user.last_name,callback:function(s){e.$set(e.user,"last_name",s)},expression:"user.last_name"}})],1),t("b-field",[t("BInputWithValidation",{attrs:{rules:"required|email|email-edu",type:"email",placeholder:"Correo institucional"},model:{value:e.user.email,callback:function(s){e.$set(e.user,"email",s)},expression:"user.email"}})],1),t("b-field",[t("BInputWithValidation",{attrs:{rules:"required|len",type:"password",placeholder:"Contraseña","password-reveal":"",vid:"password"},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),t("b-field",[t("BInputWithValidation",{attrs:{rules:"required|confirmed:password",name:"Password",type:"password",placeholder:"Confirmar contraseña","password-reveal":""},model:{value:e.user.password_confirm,callback:function(s){e.$set(e.user,"password_confirm",s)},expression:"user.password_confirm"}})],1),t("button",{staticClass:"button is-block is-primary is-fullwidth",class:{"is-loading":e.isLoading},on:{click:function(s){s.preventDefault(),e.signup,a(e.signup)}}},[e._v(" Registrarse ")]),t("br"),t("p",{staticClass:"has-text-black legend"},[e._v(" ¿Ya tienes una cuenta? · "),t("router-link",{attrs:{tag:"a",to:"/login"}},[e._v("Iniciar sesión")])],1)],1)]}}])})],1)])]),e._m(2)])])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",[e._v(" Esta es una plataforma para solicitar a distancia los trámites de control escolar y ayudar contra el "),t("b",[e._v("covid-19")]),e._v(". ")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"has-text-centered"},[t("h1",{staticClass:"title is-4"},[e._v("Regístrate ahora!")]),t("p",{staticClass:"description"},[e._v(" El usuario es necesario para acceder a los trámites en línea ")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"column is-8 is-offset-2"},[t("br"),t("nav",{staticClass:"level"},[t("div",{staticClass:"level-left"},[t("div",{staticClass:"level-item"},[t("span",{staticClass:"icon"},[t("i",{staticClass:"fab fa-twitter"})]),e._v(" "),t("span",{staticClass:"icon"},[t("i",{staticClass:"fab fa-facebook"})]),e._v(" "),t("span",{staticClass:"icon"},[t("i",{staticClass:"fab fa-instagram"})]),e._v(" "),t("span",{staticClass:"icon"},[t("i",{staticClass:"fab fa-github"})]),e._v(" "),t("span",{staticClass:"icon"},[t("i",{staticClass:"fas fa-envelope"})])])])])])}],r=(t("ddb0"),t("2612")),o=t("1017"),l={mixins:[o["a"]],data(){return{user:{first_name:"",last_name:"",email:"",password:"",password_confirm:""},isLoading:!1}},methods:{alertCustomError(e){this.$buefy.snackbar.open({message:e,type:"is-danger",position:"is-bottom-left",actionText:"OK",queue:!1})},async signup(){this.isLoading=!0;try{this.user.email=this.user.email.toLowerCase();const e=await Object(r["h"])(this.user);console.log(e),this.$buefy.dialog.alert({title:"¡Ya casi!",message:"Por favor checa tu correo para confirmar tu cuenta",type:"is-success",hasIcon:!0,icon:"check-circle",ariaRole:"alertdialog",ariaModal:!0}),await this.$router.push("/home")}catch(e){if(console.log(e),e.password)for(const s of e.password)this.alertCustomError(s);else for(const s of Object.values(e))this.$dw.messages.alertErrorDialog({title:"Correo ingresado inválido",message:"Ya existe una cuenta activa con el correo ingresado"})}finally{this.isLoading=!1}}}},n=l,c=(t("ea16"),t("2877")),u=Object(c["a"])(n,a,i,!1,null,"3bae2972",null);s["default"]=u.exports},"5e59":function(e,s,t){},ea16:function(e,s,t){"use strict";var a=t("5e59"),i=t.n(a);i.a}}]);