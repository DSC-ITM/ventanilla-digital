(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4549538a"],{"02fe":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("div",{staticClass:"container"},[i("b-modal",{attrs:{width:640,scroll:"keep"},model:{value:e.isCardModalActive,callback:function(t){e.isCardModalActive=t},expression:"isCardModalActive"}},[i("div",{staticClass:"modal-card"},[i("header",{staticClass:"modal-card-head has-text-centered"},[i("p",{staticClass:"modal-card-title"},[e._v(e._s(e.label))]),i("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){return e.toggleModal()}}})]),i("section",{staticClass:"modal-card-body"},["PDF"==e.ext?i("embed",{attrs:{type:"application/pdf",src:e.url,width:"100%",height:"700"}}):i("b-image",{attrs:{src:e.url,alt:"A random image"}})],1),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button is-primary",on:{click:function(t){return e.toggleModal()}}},[e._v(" Cerrar ")])])])])],1)])},n=[],s=(i("ac1f"),i("1276"),{name:"DocumentPreview",props:{url:{type:String,default:""},label:{type:String,default:"VisualizaciÃ³n de archivo"}},data:function(){return{isCardModalActive:!1,ext:""}},methods:{toggleModal:function(){this.getExt(this.url),this.isCardModalActive=!this.isCardModalActive},toggleModalRefresh:function(e){this.getExt(e),this.isCardModalActive=!this.isCardModalActive},getExt:function(e){var t=e.split(".").pop(),i=t.split("?")[0];this.ext=i}}}),l=s,r=i("2877"),o=Object(r["a"])(l,a,n,!1,null,null,null);t["a"]=o.exports},1276:function(e,t,i){"use strict";var a=i("d784"),n=i("44e7"),s=i("825a"),l=i("1d80"),r=i("4840"),o=i("8aa5"),u=i("50c4"),c=i("14c3"),d=i("9263"),h=i("d039"),p=[].push,f=Math.min,v=4294967295,g=!h((function(){return!RegExp(v,"y")}));a("split",2,(function(e,t,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var a=String(l(this)),s=void 0===i?v:i>>>0;if(0===s)return[];if(void 0===e)return[a];if(!n(e))return t.call(a,e,s);var r,o,u,c=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,g=new RegExp(e.source,h+"g");while(r=d.call(g,a)){if(o=g.lastIndex,o>f&&(c.push(a.slice(f,r.index)),r.length>1&&r.index<a.length&&p.apply(c,r.slice(1)),u=r[0].length,f=o,c.length>=s))break;g.lastIndex===r.index&&g.lastIndex++}return f===a.length?!u&&g.test("")||c.push(""):c.push(a.slice(f)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var n=l(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,n,i):a.call(String(n),t,i)},function(e,n){var l=i(a,e,this,n,a!==t);if(l.done)return l.value;var d=s(e),h=String(this),p=r(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),w=new p(g?d:"^(?:"+d.source+")",b),x=void 0===n?v:n>>>0;if(0===x)return[];if(0===h.length)return null===c(w,h)?[h]:[];var C=0,y=0,M=[];while(y<h.length){w.lastIndex=g?y:0;var F,R=c(w,g?h:h.slice(y));if(null===R||(F=f(u(w.lastIndex+(g?0:y)),h.length))===C)y=o(h,y,m);else{if(M.push(h.slice(C,y)),M.length===x)return M;for(var k=1;k<=R.length-1;k++)if(M.push(R[k]),M.length===x)return M;y=C=F}}return M.push(h.slice(C)),M}]}),!g)},"44e7":function(e,t,i){var a=i("861d"),n=i("c6b6"),s=i("b622"),l=s("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==n(e))}},"52ee":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ValidationObserver",{ref:"form3"},[i("request-document-preview",{ref:"RequestModalPreview",attrs:{url:e.url,label:e.label}}),e._l(e.documents,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showFile(t.name),expression:"showFile(doc.name)"}],key:a,staticClass:"mb-3"},[i("BUploadWithValidation",{staticClass:"file is-primary",attrs:{rules:"size:4000"+("PDF"===t.type?"|pdf":"|img")+(e.validateChange(t.name)?"":"|required"),label:t.name,message:"Selecciona tu "+t.name+" ("+t.type+")",isChanging:e.validateChange(t.name)},on:{viewFile:function(i){return e.viewFile(t.name)},input:function(i){e.uploadsList.tags[a]=t.name}},model:{value:e.uploadsList.files[a],callback:function(t){e.$set(e.uploadsList.files,a,t)},expression:"uploadsList.files[i]"}})],1)}))],2)},n=[],s=(i("96cf"),i("1da1")),l=i("02fe"),r={name:"UploadsModalForm",components:{RequestDocumentPreview:l["a"]},props:{option:{type:String},schoolRequest:{type:Object,default:null},uploadsList:{type:Object,default:null}},data:function(){return{uploads:[],documents:[],url:"",label:""}},mounted:function(){this.getFiles()},methods:{viewFile:function(e){for(var t in this.uploads){var i=this.uploads[t];if(i.document==e){this.url=i.file,this.label=i.document,this.$refs.RequestModalPreview.toggleModalRefresh(this.url);break}}},showFile:function(e){return"INE Frente"==e||"INE Posterior"==e||("CONSTANCIA"==this.schoolRequest.type?"Foto personal"==e:"IMSS"==this.schoolRequest.type&&("CURP"==e||"Vigencia de Seguro Social"==e))},uploadFile:function(e,t){var i={file:e,tag:t},a=!1;for(var n in this.uploads)this.uploads[n].document===t&&(i=this.uploads[n],i.file=e,i.tag=t,a=!0);var s=new FormData;for(var l in i)s.append(l,i[l]);this.$store.dispatch("uploads/upload",{form_data:s,uuid:a})},getFiles:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("uploads/getList");case 2:return i=t.sent,t.next=5,e.$store.dispatch("uploads/getDocuments");case 5:a=t.sent,e.uploads=i,e.documents=a;case 8:case"end":return t.stop()}}),t)})))()},validateChange:function(e){for(var t in this.uploads)if(this.uploads[t].document==e)return!0;return!1}}},o=r,u=i("2877"),c=Object(u["a"])(o,a,n,!1,null,null,null);t["default"]=c.exports}}]);