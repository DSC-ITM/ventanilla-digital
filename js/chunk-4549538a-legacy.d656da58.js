(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4549538a"],{"02fe":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"container"},[i("b-modal",{attrs:{width:640,scroll:"keep"},model:{value:t.isCardModalActive,callback:function(e){t.isCardModalActive=e},expression:"isCardModalActive"}},[i("div",{staticClass:"modal-card"},[i("header",{staticClass:"modal-card-head has-text-centered"},[i("p",{staticClass:"modal-card-title"},[t._v(t._s(t.label))]),i("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return t.toggleModal()}}})]),i("section",{staticClass:"modal-card-body"},["PDF"==t.ext?i("embed",{attrs:{type:"application/pdf",src:t.url,width:"100%",height:"700"}}):i("b-image",{attrs:{src:t.url,alt:"A random image"}})],1),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button is-primary",on:{click:function(e){return t.toggleModal()}}},[t._v(" Cerrar ")])])])])],1)])},n=[],s=(i("ac1f"),i("1276"),{name:"DocumentPreview",props:{url:{type:String,default:""},label:{type:String,default:"VisualizaciÃ³n de archivo"}},data:function(){return{isCardModalActive:!1,ext:""}},methods:{toggleModal:function(){this.getExt(this.url),this.isCardModalActive=!this.isCardModalActive},toggleModalRefresh:function(t){this.getExt(t),this.isCardModalActive=!this.isCardModalActive},getExt:function(t){var e=t.split(".").pop(),i=e.split("?")[0];this.ext=i}}}),l=s,r=i("2877"),o=Object(r["a"])(l,a,n,!1,null,null,null);e["a"]=o.exports},1276:function(t,e,i){"use strict";var a=i("d784"),n=i("44e7"),s=i("825a"),l=i("1d80"),r=i("4840"),o=i("8aa5"),u=i("50c4"),c=i("14c3"),d=i("9263"),p=i("d039"),h=[].push,f=Math.min,g=4294967295,v=!p((function(){return!RegExp(g,"y")}));a("split",2,(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=String(l(this)),s=void 0===i?g:i>>>0;if(0===s)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,s);var r,o,u,c=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=new RegExp(t.source,p+"g");while(r=d.call(v,a)){if(o=v.lastIndex,o>f&&(c.push(a.slice(f,r.index)),r.length>1&&r.index<a.length&&h.apply(c,r.slice(1)),u=r[0].length,f=o,c.length>=s))break;v.lastIndex===r.index&&v.lastIndex++}return f===a.length?!u&&v.test("")||c.push(""):c.push(a.slice(f)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=l(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,i):a.call(String(n),e,i)},function(t,n){var l=i(a,t,this,n,a!==e);if(l.done)return l.value;var d=s(t),p=String(this),h=r(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),x=new h(v?d:"^(?:"+d.source+")",b),C=void 0===n?g:n>>>0;if(0===C)return[];if(0===p.length)return null===c(x,p)?[p]:[];var w=0,y=0,k=[];while(y<p.length){x.lastIndex=v?y:0;var M,F=c(x,v?p:p.slice(y));if(null===F||(M=f(u(x.lastIndex+(v?0:y)),p.length))===w)y=o(p,y,m);else{if(k.push(p.slice(w,y)),k.length===C)return k;for(var R=1;R<=F.length-1;R++)if(k.push(F[R]),k.length===C)return k;y=w=M}}return k.push(p.slice(w)),k}]}),!v)},"44e7":function(t,e,i){var a=i("861d"),n=i("c6b6"),s=i("b622"),l=s("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[l])?!!e:"RegExp"==n(t))}},"52ee":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ValidationObserver",{ref:"form3"},t._l(t.documents,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFile(e.name),expression:"showFile(doc.name)"}],key:a,staticClass:"mb-3"},[i("BUploadWithValidation",{staticClass:"file is-primary",attrs:{rules:"size:4000"+("PDF"===e.type?"|pdf":"|img")+(t.validateChange(e.name)?"":"|required"),accept:"PDF"===e.type?".pdf":".jpg, .png, .jpeg",label:e.name,message:"Selecciona tu "+e.name+" ("+e.type+")",isChanging:t.validateChange(e.name),link:t.getLink(e.name)},on:{input:function(i){t.uploadsList.tags[a]=e.name}},model:{value:t.uploadsList.files[a],callback:function(e){t.$set(t.uploadsList.files,a,e)},expression:"uploadsList.files[i]"}})],1)})),0)},n=[],s=(i("96cf"),i("1da1")),l=i("02fe"),r={name:"UploadsModalForm",components:{RequestDocumentPreview:l["a"]},props:{option:{type:String},schoolRequest:{type:Object,default:null},uploadsList:{type:Object,default:null}},data:function(){return{uploads:[],documents:[],url:"",label:""}},mounted:function(){this.getFiles()},methods:{showFile:function(t){return"INE Frente"==t||"INE Posterior"==t||("CONSTANCIA"==this.schoolRequest.type?"Foto personal"==t:"IMSS"==this.schoolRequest.type&&("CURP"==t||"Vigencia de Seguro Social"==t))},uploadFile:function(t,e){var i={file:t,tag:e},a=!1;for(var n in this.uploads)this.uploads[n].document===e&&(i=this.uploads[n],i.file=t,i.tag=e,a=!0);var s=new FormData;for(var l in i)s.append(l,i[l]);this.$store.dispatch("uploads/upload",{form_data:s,uuid:a})},getFiles:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("uploads/getList");case 2:return i=e.sent,e.next=5,t.$store.dispatch("uploads/getDocuments");case 5:a=e.sent,t.uploads=i,t.documents=a;case 8:case"end":return e.stop()}}),e)})))()},validateChange:function(t){var e=this.uploads;for(var i in e)if(e[i].document==t)return!0;return!1},getLink:function(t){var e=this.uploads;for(var i in e)if(e[i].document==t)return e[i].file;return""}}},o=r,u=i("2877"),c=Object(u["a"])(o,a,n,!1,null,null,null);e["default"]=c.exports}}]);