(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2254ad66"],{"054d":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"hero is-fullheight is-error-section",style:"background: url("+e.$store.getters.background_image+") no-repeat 50% fixed; background-size: cover;"},[s("div",{staticClass:"hero-body has-text-centered",staticStyle:{"justify-content":"center"}},[s("div",{staticClass:"login"},[s("div",{staticClass:"box"},[s("h1",{staticClass:"title is-3"},[e._v("Ventanilla Digital")]),s("figure",{staticClass:"avatar"},[s("router-link",{staticClass:"notification",attrs:{tag:"img",src:"https://www.itmerida.mx/imagenes/tec.png",width:"125px",alt:"Logo",to:"/"}})],1),s("form",[s("b-field",[s("b-input",{attrs:{placeholder:"Correo",type:"email",icon:"account",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),s("b-field",[s("b-input",{attrs:{required:"",type:"password",placeholder:"Contraseña","password-reveal":"",icon:"lock"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),s("button",{staticClass:"button is-block is-info is-medium is-fullwidth",class:{"is-loading":e.isLoading},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" Iniciar sesión "),s("i",{staticClass:"fa fa-sign-in",attrs:{"aria-hidden":"true"}})])],1)]),s("p",{staticClass:"has-text-white"},[e._v(" ¿No tienes una cuenta? · "),s("router-link",{attrs:{tag:"a",to:"/register"}},[e._v("Regístrate")]),s("br"),e._v("¿Olvidaste tu contraseña? · "),s("router-link",{attrs:{tag:"a",to:"/password-recovery"}},[e._v("Recuperar contraseña")])],1)])])])},i=[],a=s("1017"),o={mixins:[a["a"]],data(){return{user:{email:"",password:""},message:"",isLoading:!1}},methods:{async submit(){this.isLoading=!0;try{this.user.email=this.user.email.toLowerCase(),await this.$store.dispatch("users/login",this.user),this.$store.state.users.isLogued?this.$router.push({path:this.redirect||"/",query:this.otherQuery}):this.$dw.messages.errorSnackbar("No está permitido el acceso a administradores.")}catch(e){console.log(e),"No active account found with the given credentials"==e.detail?this.$dw.messages.errorSnackbar("El correo o la contraseña ingresados no son correctos."):this.$dw.messages.errorSnackbar(e)}finally{this.isLoading=!1}}}},n=o,c=(s("44f1"),s("2877")),u=Object(c["a"])(n,r,i,!1,null,"48a6a9e7",null);t["default"]=u.exports},1017:function(e,t,s){"use strict";const r={data:()=>({redirect:void 0,otherQuery:{}}),watch:{$route:{handler:function(e){const t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},methods:{getOtherQuery(e){return Object.keys(e).reduce((t,s)=>("redirect"!==s&&(t[s]=e[s]),t),{})}}};t["a"]=r},"3f98":function(e,t,s){},"44f1":function(e,t,s){"use strict";var r=s("3f98"),i=s.n(r);i.a}}]);