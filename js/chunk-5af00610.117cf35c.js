(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5af00610"],{"02fe":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",[a("div",{staticClass:"container"},[a("b-modal",{attrs:{width:640,scroll:"keep"},model:{value:t.isCardModalActive,callback:function(s){t.isCardModalActive=s},expression:"isCardModalActive"}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.label))]),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(s){return t.toggleModal()}}})]),a("section",{staticClass:"modal-card-body"},[a("embed",{attrs:{type:"application/pdf",src:t.url,width:"100%",height:"700"}})]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary",on:{click:function(s){return t.toggleModal()}}},[t._v(" Cerrar ")])])])])],1)])},i=[],c={name:"DocumentPreview",props:["url","label"],data(){return{isCardModalActive:!1}},methods:{toggleModal(){this.isCardModalActive=!this.isCardModalActive}}},o=c,l=a("2877"),n=Object(l["a"])(o,e,i,!1,null,null,null);s["a"]=n.exports},"9b0c":function(t,s,a){},a7ba:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("hero-bar-main",{attrs:{user:t.$store.state.users.user,student:t.$store.state.users.user.student||{}}}),a("Modal"),a("section",{staticClass:"section"},[a("div",{staticClass:"tabs is-boxed is-centered main-menu",attrs:{id:"nav"}},[a("ul",[a("li",{class:{"is-active":"PENDING"===t.listQuery.status},attrs:{"data-target":"pane-2",id:"2"},on:{click:function(s){t.listQuery.status="PENDING",t.getData()}}},[a("a",[a("b-icon",{staticClass:"has-text-warning",attrs:{icon:"file-alert","custom-size":"default"}}),a("span",[t._v("Pendientes")])],1)]),a("li",{class:{"is-active":"READY"===t.listQuery.status},attrs:{"data-target":"pane-1",id:"1"},on:{click:function(s){t.listQuery.status="READY",t.getData()}}},[a("a",[a("b-icon",{staticClass:"has-text-success",attrs:{icon:"file-check","custom-size":"default"}}),a("span",[t._v("Listas")])],1)]),a("li",{class:{"is-active":"ARCHIVED"===t.listQuery.status},attrs:{"data-target":"pane-3",id:"3"},on:{click:function(s){t.listQuery.status="ARCHIVED",t.getData()}}},[a("a",[a("b-icon",{staticClass:"has-text-danger",attrs:{icon:"folder-open","custom-size":"default"}}),a("span",[t._v("Archivadas")])],1)])])]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("div",{staticClass:"box content"},[t.requests&&(t.requests&&t.requests.length>0)?a("notification",{staticClass:"is-primary"},[a("div",[a("b-icon",{attrs:{icon:"checkbox-marked-circle","custom-size":"default"}}),t._v(" "),a("b",[t._v("¡Hola!")]),t._v(" Aquí podrás ver tus solicitudes "+t._s(t.status[t.listQuery.status]+"S")+" ")],1)]):a("notification",{staticClass:"is-primary"},[a("div",[a("b-icon",{attrs:{icon:"alert","custom-size":"default"}}),t._v(" "),a("b",[t._v("Aún no tienes solicitudes "+t._s(t.status[t.listQuery.status]+"S"))]),t._v(" Cuando tengas alguna aparecerá aquí. ")],1)]),t.isLoading?a("Skeleton"):t._l(t.requests,(function(s,e){return a("article",{key:s.uuid,staticClass:"post"},["IMSS"==s.type?a("h4",[t._v(t._s(s.description)+" "+t._s(s.type))]):a("h4",[t._v(t._s(s.type)+" "+t._s(s.description))]),a("div",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("div",{staticClass:"content"},[a("p",[t._v(" Solicitado hace "+t._s(t._f("timeSince")(s.date))+" "),a("span",{staticClass:"tag",class:t.requests_types[s.status]},[t._v(t._s(t.status[s.status]))])])])]),a("div",[a("div",{staticClass:"buttons is-centered"},[s.photo?a("b-button",{staticClass:"tag",on:{click:function(s){t.isPhotoModalActive=!0}}},[t._v("FOTO")]):t._e(),s.INE?a("b-button",{staticClass:"tag",on:{click:function(s){t.isINEModalActive=!0}}},[t._v("INE")]):t._e(),s.document&&"PENDING"!=t.listQuery.status?a("button",{staticClass:"button is-primary tag",on:{click:function(s){return t.$refs.RequestPreview[e].toggleModal()}}},[a("b-tooltip",{attrs:{type:"is-dark",label:"Visualizar archivo",position:"is-top"}},[a("b-icon",{attrs:{icon:"eye-outline",size:"is-small"}})],1)],1):t._e()],1)]),a("request-document-preview",{ref:"RequestPreview",refInFor:!0,attrs:{url:s.document,label:"Archivo de solicitud"}}),a("b-modal",{model:{value:t.isINEModalActive,callback:function(s){t.isINEModalActive=s},expression:"isINEModalActive"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-image"},[a("figure",[a("img",{attrs:{width:"100%",alt:"Placeholder image",src:s.INE}})])])])]),a("b-modal",{model:{value:t.isPhotoModalActive,callback:function(s){t.isPhotoModalActive=s},expression:"isPhotoModalActive"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-image"},[a("figure",[a("img",{attrs:{width:"100%",alt:"Placeholder image",src:s.photo}})])])])])],1)])})),t.requests&&(t.requests.length<t.total&&t.listQuery.offset<t.total)?a("b-button",{staticClass:"button is-light",attrs:{expanded:""},on:{click:function(s){return t.loadMore()}}},[a("strong",[t._v("Cargar más")])]):t._e()],2)])])])],1)},i=[],c=(a("ddb0"),a("2f62")),o=a("7698");const l={PENDING:"PENDIENTE",READY:"LISTA",ARCHIVED:"ARCHIVADA"},n={PENDING:"is-warning",READY:"is-success",ARCHIVED:"is-danger"};var r=a("02fe"),u={name:"Profile",components:{Modal:()=>a.e("chunk-2c0194da").then(a.bind(null,"ccde")),Skeleton:()=>a.e("chunk-2d0c206f").then(a.bind(null,"490d")),RequestDocumentPreview:r["a"]},data(){return{currentTab:"PENDING",isLoading:!0,requests:[],status:l,requests_types:n,listQuery:{status:"PENDING",limit:10,offset:0},total:0,isINEModalActive:!1,isPhotoModalActive:!1}},computed:{titleStack(){return["Admin","Dashboard"]},...Object(c["b"])("users",["user"])},mounted(){this.getData()},methods:{async getData(t=1){this.isLoading=!0;try{this.listQuery.offset=this.listQuery.limit*(t-1);const s=await Object(o["b"])(this.listQuery);this.total=s.count,this.requests=s.results}catch(s){}finally{this.isLoading=!1}},async loadMore(){this.isLoading=!0;try{this.listQuery.offset+=this.listQuery.limit;const t=await Object(o["b"])(this.listQuery);this.setRequests([...this.requests,...t.results])}catch(t){}finally{this.isLoading=!1}},setRequests(t){this.requests=t},randomChartData(t){}}},d=u,v=(a("e6a6"),a("2877")),h=Object(v["a"])(d,e,i,!1,null,null,null);s["default"]=h.exports},e6a6:function(t,s,a){"use strict";var e=a("9b0c"),i=a.n(e);i.a}}]);