(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2abe720d"],{"02fe":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"container"},[a("b-modal",{attrs:{width:640,scroll:"keep"},model:{value:t.isCardModalActive,callback:function(e){t.isCardModalActive=e},expression:"isCardModalActive"}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.label))]),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return t.toggleModal()}}})]),a("section",{staticClass:"modal-card-body"},["PDF"==t.ext?a("embed",{attrs:{type:"application/pdf",src:t.url,width:"100%",height:"700"}}):a("b-image",{attrs:{src:t.url,alt:"A random image"}})],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary",on:{click:function(e){return t.toggleModal()}}},[t._v(" Cerrar ")])])])])],1)])},i=[],o={name:"DocumentPreview",props:{url:{type:String,default:""},label:{type:String,default:"Visualizaci√≥n de archivo"}},data(){return{isCardModalActive:!1,ext:""}},methods:{toggleModal(){this.getExt(this.url),this.isCardModalActive=!this.isCardModalActive},toggleModalRefresh(t){this.getExt(t),this.isCardModalActive=!this.isCardModalActive},getExt(t){const e=t.split(".").pop(),a=e.split("?")[0];this.ext=a}}},l=o,n=a("2877"),r=Object(n["a"])(l,s,i,!1,null,null,null);e["a"]=r.exports},"52ee":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationObserver",{ref:"form3"},t._l(t.documents,(function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFile(e.name),expression:"showFile(doc.name)"}],key:s,staticClass:"mb-3"},[a("BUploadWithValidation",{staticClass:"file is-primary",attrs:{rules:"size:4000"+("PDF"===e.type?"|pdf":"|img")+(t.validateChange(e.name)?"":"|required"),accept:"PDF"===e.type?".pdf":".jpg, .png, .jpeg",label:e.name,message:"Selecciona tu "+e.name+" ("+e.type+")",isChanging:t.validateChange(e.name),link:t.getLink(e.name)},on:{input:function(a){t.uploadsList.tags[s]=e.name}},model:{value:t.uploadsList.files[s],callback:function(e){t.$set(t.uploadsList.files,s,e)},expression:"uploadsList.files[i]"}})],1)})),0)},i=[],o=a("02fe"),l={name:"UploadsModalForm",components:{RequestDocumentPreview:o["a"]},props:{option:{type:String},schoolRequest:{type:Object,default:null},uploadsList:{type:Object,default:null}},data(){return{uploads:[],documents:[],url:"",label:""}},mounted(){this.getFiles()},methods:{showFile(t){return"INE Frente"==t||"INE Posterior"==t||("CONSTANCIA"==this.schoolRequest.type?"Foto personal"==t:"IMSS"==this.schoolRequest.type&&("CURP"==t||"Vigencia de Seguro Social"==t))},uploadFile(t,e){let a={file:t,tag:e},s=!1;for(const l in this.uploads)this.uploads[l].document===e&&(a=this.uploads[l],a.file=t,a.tag=e,s=!0);const i=new FormData;for(var o in a)i.append(o,a[o]);this.$store.dispatch("uploads/upload",{form_data:i,uuid:s})},async getFiles(){const t=await this.$store.dispatch("uploads/getList"),e=await this.$store.dispatch("uploads/getDocuments");this.uploads=t,this.documents=e},validateChange(t){const e=this.uploads;for(const a in e)if(e[a].document==t)return!0;return!1},getLink(t){const e=this.uploads;for(const a in e)if(e[a].document==t)return e[a].file;return""}}},n=l,r=a("2877"),d=Object(r["a"])(n,s,i,!1,null,null,null);e["default"]=d.exports}}]);