(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be6fae6e"],{"02fe":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"container"},[a("b-modal",{attrs:{width:640,scroll:"keep"},model:{value:e.isCardModalActive,callback:function(t){e.isCardModalActive=t},expression:"isCardModalActive"}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.label))]),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){return e.toggleModal()}}})]),a("section",{staticClass:"modal-card-body"},["PDF"==e.ext?a("embed",{attrs:{type:"application/pdf",src:e.url,width:"100%",height:"700"}}):a("b-image",{attrs:{src:e.url,alt:"A random image"}})],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary",on:{click:function(t){return e.toggleModal()}}},[e._v(" Cerrar ")])])])])],1)])},i=[],l={name:"DocumentPreview",props:{url:{type:String,default:""},label:{type:String,default:"Visualización de archivo"}},data(){return{isCardModalActive:!1,ext:""}},methods:{toggleModal(){this.getExt(this.url),this.isCardModalActive=!this.isCardModalActive},toggleModalRefresh(e){this.getExt(e),this.isCardModalActive=!this.isCardModalActive},getExt(e){const t=e.split(".").pop(),a=t.split("?")[0];this.ext=a}}},r=l,o=a("2877"),n=Object(o["a"])(r,s,i,!1,null,null,null);t["a"]=n.exports},"0ceb":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card-component",{attrs:{title:"Datos de estudiante",icon:"school"}},[a("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.handleSubmit;return[a("div",{staticClass:"columns"},[a("BInputWithValidation",{staticClass:"column",attrs:{rules:"required|matricula","label-position":"on-border",type:"text",placeholder:"Matrícula",label:"Matrícula",message:"Tu matrícula institucional"},model:{value:e.defaultForm.enrollment,callback:function(t){e.$set(e.defaultForm,"enrollment",t)},expression:"defaultForm.enrollment"}}),a("BInputWithValidation",{staticClass:"column",attrs:{label:"Ingreso",rules:"required|min_value:1|max_value:12",name:"'Ingreso'",placeholder:"Selecciona tu ingreso","label-position":"on-border",type:"number",min:"1",max:"12",message:"El semestre que cursas actualmente"},model:{value:e.defaultForm.admission,callback:function(t){e.$set(e.defaultForm,"admission",t)},expression:"defaultForm.admission"}})],1),a("div",{staticClass:"columns"},[a("BSelectWithValidation",{staticClass:"column",attrs:{rules:"required","label-position":"on-border",placeholder:"Selecciona tu carrera",label:"Carrera",message:"La carrera que cursas actualmente"},model:{value:e.defaultForm.career,callback:function(t){e.$set(e.defaultForm,"career",t)},expression:"defaultForm.career"}},e._l(e.careers,(function(t,s){return a("option",{key:s,domProps:{value:s}},[e._v(e._s(t))])})),0),e.defaultForm.admission>7?a("BInputWithValidation",{staticClass:"column",attrs:{rules:"required","label-position":"on-border",type:"text",placeholder:"Especialidad",label:"Especialidad",message:"La especialidad que cursas actualmente"},model:{value:e.defaultForm.specialty,callback:function(t){e.$set(e.defaultForm,"specialty",t)},expression:"defaultForm.specialty"}}):e._e()],1),a("hr"),a("b-field",{attrs:{addons:!1}},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",class:{"is-loading":e.isLoading},on:{click:function(t){return t.preventDefault(),s(e.submit)}}},[e._v(" Guardar ")])])])]}}])})],1)},i=[],l=a("2646"),r={name:"StudentUpdateForm",props:{student:{type:Object,default:null}},data(){return{isFileUploaded:!1,isLoading:!1,careers:l["a"],files:{CURP_file:null,NSS_file:null},defaultForm:{enrollment:"",career:"",admission:0,specialty:"",uuid:""}}},mounted(){this.$store.commit("students/BASIC",{key:"studentForm",value:this.student||this.defaultForm}),this.setStudentForm()},watch:{student(e){this.setStudentForm()}},methods:{async submit(){this.isLoading=!0;try{this.student.specialty&&this.defaultForm.admission<8&&(this.defaultForm.specialty=null),this.defaultForm.CURP&&(this.defaultForm.CURP=this.defaultForm.CURP.toUpperCase()),this.defaultForm.enrollment=this.defaultForm.enrollment.toUpperCase();var e=this.defaultForm,t=this.files;await this.$store.dispatch("students/update",{studentForm:e,files:t}),this.$buefy.snackbar.open({message:"Cambios guardados",queue:!1})}catch(a){console.log(a)}finally{this.isLoading=!1,this.files.NSS_file=null,this.files.CURP_file=null}},setStudentForm(){this.defaultForm.enrollment=this.student.enrollment,this.defaultForm.career=this.student.career,this.defaultForm.admission=this.student.admission,this.defaultForm.specialty=this.student.specialty,this.defaultForm.CURP=this.student.CURP,this.defaultForm.NSS=this.student.NSS,this.defaultForm.uuid=this.student.uuid}}},o=r,n=a("2877"),c=Object(n["a"])(o,s,i,!1,null,null,null);t["a"]=c.exports},"91b4":function(e,t,a){e.exports=a.p+"img/doctor.50c5fbb9.jpg"},"98ea":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("hero-bar",[e._v(" Ficha Médica "),s("router-link",{staticClass:"button is-light",attrs:{slot:"right",to:"/profile"},slot:"right"},[s("b-icon",{attrs:{icon:"account","custom-size":"default"}}),s("span",{staticClass:"has-text-weight-bold"},[e._v("Perfil")])],1)],1),s("notification",{staticClass:"is-primary"},[s("div",[s("b-icon",{attrs:{icon:"medical-bag","custom-size":"default"}}),e._v(" Aquí podrás ver y editar tu información médica. "),s("b",[e._v("Verifica que tus datos sean correctos y actualizados.")])],1)]),s("section",{staticClass:"section is-main-section"},[s("b-steps",{attrs:{"has-navigation":!1}},[s("b-step-item",{attrs:{clickable:"",label:"Datos personales",icon:"account"}},[s("StudentDetails",{attrs:{user:e.user}})],1),s("b-step-item",{attrs:{clickable:"",label:"Datos médicos",icon:"medical-bag"}},[e.user.id?s("MedicalRecordForm",{attrs:{form:e.user.medical_record}}):e._e()],1),s("b-step-item",{attrs:{clickable:"",label:"Antecedentes",icon:"account-group"}},[s("article",{staticClass:"media notification box is-primary"},[s("figure",{staticClass:"media-left"},[s("p",{staticClass:"image is-64x64"},[s("img",{staticClass:"is-rounded",attrs:{src:a("91b4")}})])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("h1",{staticClass:"title is-5"},[e._v("Cuestionario de Antecedentes Médicos")]),s("p",{staticClass:"subtitle"},[e._v(" Antecendentes médicos sobre el estudiante y su familia ")])])]),s("div",{staticClass:"media-right"},[s("router-link",{attrs:{tag:"a",title:"Contestar ahora",to:"/forms/41d87644-3254-4902-822a-e520e51f5d34"}},[s("b-icon",{attrs:{icon:"open-in-new"}})],1)],1)])])],1)],1)],1)},i=[],l=a("2f62"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[e._v(" Mi perfil ")]),a("div",{staticClass:"card-header-icon"},[a("router-link",{attrs:{title:"Editar perfil",to:"/edit-profile/"}},[a("b-icon",{attrs:{icon:"pencil"}})],1)],1)]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("table",{staticClass:"table-profile"},[a("tbody",[a("tr",[a("td",[a("b-icon",{attrs:{icon:"account",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Nombre completo:")])],1),a("td",{staticClass:"has-text-weight-bold"},[e._v(" "+e._s(e.user.full_name)+" "+e._s(e.user.first_lastname)+" "+e._s(e.user.second_lastname)+" ")])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"phone",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Teléfono:")])],1),a("td",{staticClass:"has-text-info"},[e._v(" "+e._s(e._f("formatPhoneNumber")(e.user.phone))+" ")])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"at",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Correo electrónico:")])],1),a("td",{staticClass:"has-text-link"},[e._v(e._s(e.user.email))])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"cake",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Fecha de nacimiento:")])],1),a("td",[e._v(e._s(e._f("birthdate")(e.user.birthday)))])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"gender-male-female",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Sexo:")])],1),a("td",[e._v(e._s(e._f("sex")(e.user.gender)))])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"numeric",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Edad:")])],1),a("td",[e._v(e._s(e.user.age)+" años")])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"home-heart",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Estado civil:")])],1),a("td",[e._v(e._s(e._f("status")(e.user.marital_status)))])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"briefcase",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Ocupación:")])],1),a("td",[e._v("Estudiante")])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"school",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Matrícula:")])],1),a("td",[e._v(e._s(e.user.student.enrollment))])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"school",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Carrera:")])],1),a("td",[e._v(" "+e._s(e.user.student.career)+" ("+e._s(e.user.student.specialty)+") ")])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"school",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("Ingreso:")])],1),a("td",[e._v(e._s(e.user.student.admission)+"º")])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"file-multiple",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("CURP:")])],1),a("td",[e._v(e._s(e.user.CURP))])]),a("tr",[a("td",[a("b-icon",{attrs:{icon:"medical-bag",size:"is-small"}}),a("span",{staticClass:"has-text-weight-bold"},[e._v("NSS:")])],1),a("td",[e._v(e._s(e.user.NSS||"No establecido"))])])])])])])])])])},o=[],n={props:{user:Object},filters:{birthdate(e){const t={hour12:!0,dateStyle:"long"};return new Date(e).toLocaleString("es-MX",t)},status(e){let t="No especificado";switch(e){case"M":t="Casado";break;case"S":t="Soltero";break;default:break}return t},sex(e){switch(e){case"M":return"Masculino";case"F":return"Femenino";default:break}},occupation(e){switch(e){case"entrepreneur":return"emprendedor";case"nothing":return"nada";case"service":return"servicio";case"businessman":return"hombre de negocio";case"executive":return"ejecutivo";case"Negocio":return"Negocio";case"others":return"otro";case"academic":return"académico";case"admin":return"administrador";case"professional":return"profesionista";case"employee":return"empleado";case"student":return"estudiante";case"bussines":return"comercio";default:return e}},formatPhoneNumber(e){var t="+52 ";return[t,"(",e.slice(0,3),") ",e.slice(3,6),"-",e.slice(6,10)].join("")}}},c=n,d=a("2877"),u=Object(d["a"])(c,r,o,!1,null,null,null),m=u.exports,p=a("0ceb"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card-component",{attrs:{title:"Información médica",icon:"pill"}},[a("b-message",{attrs:{title:"IMPORTANTE",size:"is-small",type:"is-primary",closable:!1}},[e._v(" Si conoces alguno de estos datos mantenlos actualizados, si desconoces alguno no te preocupes se te podrá actualizar en tu próxima visita a la enfermería. ")]),a("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var s=t.handleSubmit;return[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"columns"},[a("BInputWithValidation",{staticClass:"column",attrs:{"label-position":"on-border",rules:"required",name:"weight",type:"number",min:"0",label:"Peso",placeholder:"0.00",message:"Peso el paciente en kilogramos (Kg)"},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",e._n(t))},expression:"form.weight"}}),a("BInputWithValidation",{staticClass:"column",attrs:{"label-position":"on-border",rules:"required",name:"lastname",type:"number",min:"0",label:"Altura",placeholder:"0.00",message:"Talla del paciente en metros (mts)"},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",e._n(t))},expression:"form.height"}}),a("BInputWithValidation",{staticClass:"column",attrs:{"label-position":"on-border",disabled:"",name:"BMI",type:"number",min:"0",label:"IMC",placeholder:"0.00",message:"Indice de Masa Corporal",value:e.BMI}})],1),a("div",{staticClass:"columns"},[a("BInputWithValidation",{staticClass:"column",attrs:{"label-position":"on-border",rules:"",type:"number",min:"0",placeholder:"0.00",name:"name",label:"Perímetro abdominal",message:"Perímetro abdominal del paciente en centimetros (cm)"},model:{value:e.form.abdominal_perimeter,callback:function(t){e.$set(e.form,"abdominal_perimeter",e._n(t))},expression:"form.abdominal_perimeter"}}),a("BSelectWithValidation",{staticClass:"column",attrs:{"label-position":"on-border",rules:"required",name:"blood_type",label:"Tipo sanguíneo",message:"Tipo de sangre del paciente (A+, A-, AB+, O)"},model:{value:e.form.blood_type,callback:function(t){e.$set(e.form,"blood_type",t)},expression:"form.blood_type"}},e._l(e.blood_types,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)],1),a("div",{staticClass:"columns is-multiline"},[a("BInputWithValidation",{staticClass:"column is-one-quarter",attrs:{"label-position":"on-border",rules:"",type:"number",min:"0",placeholder:"0.00",name:"name",label:"Frecuencia cardíaca",message:"Frecuencia cardíaca del paciente"},model:{value:e.form.heart_rate,callback:function(t){e.$set(e.form,"heart_rate",e._n(t))},expression:"form.heart_rate"}}),a("BInputWithValidation",{staticClass:"column is-one-quarter",attrs:{"label-position":"on-border",rules:"",type:"number",min:"0",placeholder:"0.00",name:"breath_freq",label:"Frecuencia respiratoria (FR)",message:"Frecuencia respiratoria del paciente"},model:{value:e.form.breath_freq,callback:function(t){e.$set(e.form,"breath_freq",e._n(t))},expression:"form.breath_freq"}}),a("BInputWithValidation",{staticClass:"column",attrs:{expanded:"","label-position":"on-border",rules:"",type:"number",min:"0",name:"blood_pressure",label:"Presión arterial",placeholder:"0.00",message:"Presion arterial del paciente"},model:{value:e.form.blood_pressure,callback:function(t){e.$set(e.form,"blood_pressure",e._n(t))},expression:"form.blood_pressure"}}),a("BInputWithValidation",{staticClass:"column is-half",attrs:{"label-position":"on-border",name:"affiliation",label:"Proveedor Seguro médico",message:"Afiliacción al sistema de salud (IMSS, ISSSTE, ETC)"},model:{value:e.form.affiliation,callback:function(t){e.$set(e.form,"affiliation",t)},expression:"form.affiliation"}}),a("BInputWithValidation",{staticClass:"column is-half",attrs:{"label-position":"on-border",name:"cedula",label:"No. Cédula",message:"Cédula de afiliación"},model:{value:e.form.cedula,callback:function(t){e.$set(e.form,"cedula",t)},expression:"form.cedula"}})],1)])]),a("b-field",[a("b-button",{attrs:{type:"is-success","native-type":"submit",outlined:"",loading:e.isLoading},on:{click:function(t){return s(e.submit)}}},[e._v(" Guardar ")])],1)]}}])})],1)},h=[],f={name:"MedicalRecordForm",props:{form:Object},data(){return{blood_types:["A+","A-","B+","B-","O+","O-","AB+","AB-"],isLoading:!1}},computed:{BMI(){return(this.form.weight/Math.pow(this.form.height,2)).toFixed(2)}},methods:{async submit(){this.isLoading=!0,this.form.BMI=this.BMI;try{await this.$store.dispatch("users/updateMedicalRecord",this.form),this.$buefy.snackbar.open({message:"Datos actualizados correctamente"})}catch(e){this.$buefy.snackbar.open({message:"Algo salió mal :(... Intente más tarde",type:"is-danger"})}finally{this.isLoading=!1}},onPhoneInput(e){this.form.phone=e.target._vCleave.getFormattedValue()},onRFCInput(e){this.form.RFC=e.target._vCleave.getFormattedValue()}}},v=f,_=Object(d["a"])(v,b,h,!1,null,null,null),g=_.exports,C=a("02fe"),y=a("2646"),x={name:"Profile",data(){return{careers:y["a"]}},components:{StudentDetails:m,StudentUpdateForm:p["a"],RequestDocumentPreview:C["a"],MedicalRecordForm:g},computed:{...Object(l["b"])(["userName","userEmail"]),...Object(l["b"])("users",["user"]),...Object(l["b"])("students",["studentForm"])}},F=x,k=Object(d["a"])(F,s,i,!1,null,null,null);t["default"]=k.exports}}]);