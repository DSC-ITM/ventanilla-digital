(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dd4b933"],{"054d":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"hero is-fullheight is-error-section",style:"background: url("+e.$store.getters.background_image+") no-repeat 50% fixed; background-size: cover;"},[r("div",{staticClass:"hero-body has-text-centered",staticStyle:{"justify-content":"center"}},[r("div",{staticClass:"login"},[r("div",{staticClass:"box"},[r("h1",{staticClass:"title is-3"},[e._v("Ventanilla Digital")]),r("figure",{staticClass:"avatar"},[r("router-link",{staticClass:"notification",attrs:{tag:"img",src:"https://www.itmerida.mx/imagenes/tec.png",width:"125px",alt:"Logo",to:"/"}})],1),r("form",[r("b-field",[r("b-input",{attrs:{placeholder:"Correo",type:"email",icon:"account",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),r("b-field",[r("b-input",{attrs:{required:"",type:"password",placeholder:"Contraseña","password-reveal":"",icon:"lock"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("button",{staticClass:"button is-block is-info is-medium is-fullwidth",class:{"is-loading":e.isLoading},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" Iniciar sesión "),r("i",{staticClass:"fa fa-sign-in",attrs:{"aria-hidden":"true"}})])],1)]),r("p",{staticClass:"has-text-white"},[e._v(" ¿No tienes una cuenta? · "),r("router-link",{attrs:{tag:"a",to:"/register"}},[e._v("Regístrate")])],1)])])])},i=[],a=(r("96cf"),r("1da1")),n=r("1017"),o={mixins:[n["a"]],data:function(){return{user:{email:"",password:""},message:"",isLoading:!1}},methods:{submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,e.user.email=e.user.email.toLowerCase(),t.next=5,e.$store.dispatch("users/login",e.user);case 5:e.$router.push({path:e.redirect||"/",query:e.otherQuery}),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0),"No active account found with the given credentials"==t.t0.detail?e.$dw.messages.errorSnackbar("El correo o la contraseña ingresados no son correctos."):e.$dw.messages.errorSnackbar(t.t0);case 12:return t.prev=12,e.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})))()}}},c=o,u=(r("40df"),r("2877")),l=Object(u["a"])(c,s,i,!1,null,"3853b511",null);t["default"]=l.exports},1017:function(e,t,r){"use strict";r("13d5"),r("b64b");var s={data:function(){return{redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},methods:{getOtherQuery:function(e){return Object.keys(e).reduce((function(t,r){return"redirect"!==r&&(t[r]=e[r]),t}),{})}}};t["a"]=s},"40df":function(e,t,r){"use strict";var s=r("f2ed"),i=r.n(s);i.a},f2ed:function(e,t,r){}}]);